import {
  useEnvironmentContext
} from "./chunk-VB3QDQ4Q.js";
import {
  getDocument,
  isShadowRoot
} from "./chunk-CVE3B77K.js";
import {
  require_react_dom
} from "./chunk-6B7WPHYS.js";
import {
  require_jsx_runtime
} from "./chunk-HAJ5MWBM.js";
import {
  require_react
} from "./chunk-IUESXVSS.js";
import {
  __toESM
} from "./chunk-XPZLJQLW.js";

// node_modules/.pnpm/@ark-ui+react@4.9.2_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/@ark-ui/react/dist/components/portal/portal.js
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
var import_react = __toESM(require_react(), 1);
var import_react_dom = __toESM(require_react_dom(), 1);
var Portal = (props) => {
  var _a;
  const { children, disabled } = props;
  const [container, setContainer] = (0, import_react.useState)((_a = props.container) == null ? void 0 : _a.current);
  const isServer = (0, import_react.useSyncExternalStore)(
    subscribe,
    () => false,
    () => true
  );
  const { getRootNode } = useEnvironmentContext();
  (0, import_react.useEffect)(() => {
    setContainer(() => {
      var _a2;
      return (_a2 = props.container) == null ? void 0 : _a2.current;
    });
  }, [props.container]);
  if (isServer || disabled) return (0, import_jsx_runtime.jsx)(import_jsx_runtime.Fragment, { children });
  const mountNode = container ?? getPortalNode(getRootNode);
  return (0, import_jsx_runtime.jsx)(import_jsx_runtime.Fragment, { children: import_react.Children.map(children, (child) => (0, import_react_dom.createPortal)(child, mountNode)) });
};
var getPortalNode = (cb) => {
  const node = cb == null ? void 0 : cb();
  const rootNode = node.getRootNode();
  if (isShadowRoot(rootNode)) return rootNode;
  return getDocument(node).body;
};
var subscribe = () => () => {
};
export {
  Portal
};
//# sourceMappingURL=@ark-ui_react_portal.js.map
