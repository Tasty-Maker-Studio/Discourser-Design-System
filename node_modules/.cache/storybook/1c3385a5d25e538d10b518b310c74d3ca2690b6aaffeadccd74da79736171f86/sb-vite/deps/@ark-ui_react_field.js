import {
  FieldProvider,
  useFieldContext
} from "./chunk-KPL4DKKN.js";
import {
  ark,
  composeRefs,
  createAnatomy,
  createSplitProps2 as createSplitProps,
  mergeProps
} from "./chunk-GIOYOM5U.js";
import {
  ariaAttr,
  createContext,
  dataAttr,
  getComputedStyle,
  getDocument,
  getWindow
} from "./chunk-CVE3B77K.js";
import "./chunk-6B7WPHYS.js";
import {
  require_jsx_runtime
} from "./chunk-HAJ5MWBM.js";
import {
  require_react
} from "./chunk-IUESXVSS.js";
import {
  __export,
  __toESM
} from "./chunk-XPZLJQLW.js";

// node_modules/.pnpm/@ark-ui+react@4.9.2_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/@ark-ui/react/dist/components/field/field-context.js
var FieldContext = (props) => props.children(useFieldContext());

// node_modules/.pnpm/@ark-ui+react@4.9.2_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/@ark-ui/react/dist/components/field/field-error-text.js
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
var import_react2 = __toESM(require_react(), 1);
var FieldErrorText = (0, import_react2.forwardRef)((props, ref) => {
  const field = useFieldContext();
  const mergedProps = mergeProps(field.getErrorTextProps(), props);
  if (field == null ? void 0 : field.invalid) {
    return (0, import_jsx_runtime.jsx)(ark.span, { ...mergedProps, ref });
  }
  return null;
});
FieldErrorText.displayName = "FieldErrorText";

// node_modules/.pnpm/@ark-ui+react@4.9.2_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/@ark-ui/react/dist/components/field/field-helper-text.js
var import_jsx_runtime2 = __toESM(require_jsx_runtime(), 1);
var import_react4 = __toESM(require_react(), 1);
var FieldHelperText = (0, import_react4.forwardRef)((props, ref) => {
  const field = useFieldContext();
  const mergedProps = mergeProps(field == null ? void 0 : field.getHelperTextProps(), props);
  return (0, import_jsx_runtime2.jsx)(ark.span, { ...mergedProps, ref });
});
FieldHelperText.displayName = "FieldHelperText";

// node_modules/.pnpm/@ark-ui+react@4.9.2_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/@ark-ui/react/dist/components/field/field-input.js
var import_jsx_runtime3 = __toESM(require_jsx_runtime(), 1);
var import_react6 = __toESM(require_react(), 1);
var FieldInput = (0, import_react6.forwardRef)((props, ref) => {
  const field = useFieldContext();
  const mergedProps = mergeProps(field == null ? void 0 : field.getInputProps(), props);
  return (0, import_jsx_runtime3.jsx)(ark.input, { ...mergedProps, ref });
});
FieldInput.displayName = "FieldInput";

// node_modules/.pnpm/@ark-ui+react@4.9.2_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/@ark-ui/react/dist/components/field/field-label.js
var import_jsx_runtime4 = __toESM(require_jsx_runtime(), 1);
var import_react8 = __toESM(require_react(), 1);
var FieldLabel = (0, import_react8.forwardRef)((props, ref) => {
  const field = useFieldContext();
  const mergedProps = mergeProps(field == null ? void 0 : field.getLabelProps(), props);
  return (0, import_jsx_runtime4.jsx)(ark.label, { ...mergedProps, ref });
});
FieldLabel.displayName = "FieldLabel";

// node_modules/.pnpm/@ark-ui+react@4.9.2_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/@ark-ui/react/dist/components/field/field-required-indicator.js
var import_jsx_runtime5 = __toESM(require_jsx_runtime(), 1);
var import_react9 = __toESM(require_react(), 1);
var FieldRequiredIndicator = (0, import_react9.forwardRef)(
  ({ fallback, ...props }, ref) => {
    const field = useFieldContext();
    if (!field.required) {
      return fallback;
    }
    const mergedProps = mergeProps(field.getRequiredIndicatorProps(), props);
    return (0, import_jsx_runtime5.jsx)(ark.span, { ...mergedProps, ref, children: props.children ?? "*" });
  }
);
FieldRequiredIndicator.displayName = "FieldRequiredIndicator";

// node_modules/.pnpm/@ark-ui+react@4.9.2_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/@ark-ui/react/dist/components/field/field-root.js
var import_jsx_runtime6 = __toESM(require_jsx_runtime(), 1);
var import_react13 = __toESM(require_react(), 1);

// node_modules/.pnpm/@ark-ui+react@4.9.2_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/@ark-ui/react/dist/components/field/use-field.js
var import_react11 = __toESM(require_react(), 1);

// node_modules/.pnpm/@ark-ui+react@4.9.2_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/@ark-ui/react/dist/utils/use-safe-layout-effect.js
var import_react10 = __toESM(require_react(), 1);
var useSafeLayoutEffect = typeof window !== "undefined" ? import_react10.useLayoutEffect : import_react10.useEffect;

// node_modules/.pnpm/@ark-ui+react@4.9.2_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/@ark-ui/react/dist/components/fieldset/use-fieldset-context.js
var [FieldsetProvider, useFieldsetContext] = createContext({
  name: "FieldsetContext",
  hookName: "useFieldsetContext",
  providerName: "<FieldsetProvider />",
  strict: false
});

// node_modules/.pnpm/@ark-ui+react@4.9.2_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/@ark-ui/react/dist/components/field/field.anatomy.js
var fieldAnatomy = createAnatomy("field").parts(
  "root",
  "errorText",
  "helperText",
  "input",
  "label",
  "select",
  "textarea",
  "requiredIndicator"
);
var parts = fieldAnatomy.build();

// node_modules/.pnpm/@ark-ui+react@4.9.2_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/@ark-ui/react/dist/components/field/use-field.js
var useField = (props) => {
  const fieldset = useFieldsetContext();
  const {
    ids,
    disabled = Boolean(fieldset == null ? void 0 : fieldset.disabled),
    invalid = false,
    readOnly = false,
    required = false
  } = props;
  const hasErrorText = (0, import_react11.useRef)(false);
  const hasHelperText = (0, import_react11.useRef)(false);
  const id = props.id ?? (0, import_react11.useId)();
  const rootRef = (0, import_react11.useRef)(null);
  const rootId = (ids == null ? void 0 : ids.control) ?? `field::${id}`;
  const errorTextId = (ids == null ? void 0 : ids.errorText) ?? `field::${id}::error-text`;
  const helperTextId = (ids == null ? void 0 : ids.helperText) ?? `field::${id}::helper-text`;
  const labelId = (ids == null ? void 0 : ids.label) ?? `field::${id}::label`;
  useSafeLayoutEffect(() => {
    const rootNode = rootRef.current;
    if (!rootNode) return;
    const win = getWindow(rootNode);
    const doc = win.document;
    const checkTextElements = () => {
      hasErrorText.current = !!doc.getElementById(errorTextId);
      hasHelperText.current = !!doc.getElementById(helperTextId);
    };
    checkTextElements();
    const observer = new win.MutationObserver(checkTextElements);
    observer.observe(rootNode, { childList: true, subtree: true });
    return () => observer.disconnect();
  }, [errorTextId, helperTextId]);
  const labelIds = (0, import_react11.useMemo)(() => {
    const ids2 = [];
    if (hasErrorText.current && invalid) ids2.push(errorTextId);
    if (hasHelperText.current) ids2.push(helperTextId);
    return ids2.join(" ") || void 0;
  }, [invalid, errorTextId, helperTextId]);
  const getRootProps = (0, import_react11.useMemo)(
    () => () => ({
      ...parts.root.attrs,
      id: rootId,
      ref: rootRef,
      role: "group",
      "data-disabled": dataAttr(disabled),
      "data-invalid": dataAttr(invalid),
      "data-readonly": dataAttr(readOnly)
    }),
    [disabled, invalid, readOnly, rootId]
  );
  const getLabelProps = (0, import_react11.useMemo)(
    () => () => ({
      ...parts.label.attrs,
      id: labelId,
      "data-disabled": dataAttr(disabled),
      "data-invalid": dataAttr(invalid),
      "data-readonly": dataAttr(readOnly),
      htmlFor: id
    }),
    [disabled, invalid, readOnly, id, labelId]
  );
  const getControlProps = (0, import_react11.useMemo)(
    () => () => ({
      "aria-describedby": labelIds,
      "aria-invalid": ariaAttr(invalid),
      "data-invalid": dataAttr(invalid),
      "data-required": dataAttr(required),
      "data-readonly": dataAttr(readOnly),
      id,
      required,
      disabled,
      readOnly
    }),
    [labelIds, invalid, required, readOnly, id, disabled]
  );
  const getInputProps = (0, import_react11.useMemo)(
    () => () => ({
      ...getControlProps(),
      ...parts.input.attrs
    }),
    [getControlProps]
  );
  const getTextareaProps = (0, import_react11.useMemo)(
    () => () => ({
      ...getControlProps(),
      ...parts.textarea.attrs
    }),
    [getControlProps]
  );
  const getSelectProps = (0, import_react11.useMemo)(
    () => () => ({
      ...getControlProps(),
      ...parts.select.attrs
    }),
    [getControlProps]
  );
  const getHelperTextProps = (0, import_react11.useMemo)(
    () => () => ({
      id: helperTextId,
      ...parts.helperText.attrs,
      "data-disabled": dataAttr(disabled)
    }),
    [disabled, helperTextId]
  );
  const getErrorTextProps = (0, import_react11.useMemo)(
    () => () => ({
      id: errorTextId,
      ...parts.errorText.attrs,
      "aria-live": "polite"
    }),
    [errorTextId]
  );
  const getRequiredIndicatorProps = (0, import_react11.useMemo)(
    () => () => ({
      "aria-hidden": true,
      ...parts.requiredIndicator.attrs
    }),
    []
  );
  return {
    ariaDescribedby: labelIds,
    ids: {
      root: rootId,
      control: id,
      label: labelId,
      errorText: errorTextId,
      helperText: helperTextId
    },
    refs: {
      rootRef
    },
    disabled,
    invalid,
    readOnly,
    required,
    getLabelProps,
    getRootProps,
    getInputProps,
    getTextareaProps,
    getSelectProps,
    getHelperTextProps,
    getErrorTextProps,
    getRequiredIndicatorProps
  };
};

// node_modules/.pnpm/@ark-ui+react@4.9.2_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/@ark-ui/react/dist/components/field/field-root.js
var FieldRoot = (0, import_react13.forwardRef)((props, ref) => {
  const [useFieldProps, localProps] = createSplitProps()(props, [
    "id",
    "ids",
    "disabled",
    "invalid",
    "readOnly",
    "required"
  ]);
  const field = useField(useFieldProps);
  const mergedProps = mergeProps(field.getRootProps(), localProps);
  return (0, import_jsx_runtime6.jsx)(FieldProvider, { value: field, children: (0, import_jsx_runtime6.jsx)(ark.div, { ...mergedProps, ref: composeRefs(ref, field.refs.rootRef) }) });
});
FieldRoot.displayName = "FieldRoot";

// node_modules/.pnpm/@ark-ui+react@4.9.2_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/@ark-ui/react/dist/components/field/field-root-provider.js
var import_jsx_runtime7 = __toESM(require_jsx_runtime(), 1);
var import_react15 = __toESM(require_react(), 1);
var FieldRootProvider = (0, import_react15.forwardRef)(
  (props, ref) => {
    const [{ value: field }, localProps] = createSplitProps()(props, ["value"]);
    const mergedProps = mergeProps(field.getRootProps(), localProps);
    return (0, import_jsx_runtime7.jsx)(FieldProvider, { value: field, children: (0, import_jsx_runtime7.jsx)(ark.div, { ...mergedProps, ref }) });
  }
);
FieldRootProvider.displayName = "FieldRootProvider";

// node_modules/.pnpm/@ark-ui+react@4.9.2_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/@ark-ui/react/dist/components/field/field-select.js
var import_jsx_runtime8 = __toESM(require_jsx_runtime(), 1);
var import_react17 = __toESM(require_react(), 1);
var FieldSelect = (0, import_react17.forwardRef)((props, ref) => {
  const field = useFieldContext();
  const mergedProps = mergeProps(field == null ? void 0 : field.getSelectProps(), props);
  return (0, import_jsx_runtime8.jsx)(ark.select, { ...mergedProps, ref });
});
FieldSelect.displayName = "FieldSelect";

// node_modules/.pnpm/@ark-ui+react@4.9.2_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/@ark-ui/react/dist/components/field/field-textarea.js
var import_jsx_runtime9 = __toESM(require_jsx_runtime(), 1);

// node_modules/.pnpm/@zag-js+auto-resize@0.82.2/node_modules/@zag-js/auto-resize/dist/index.mjs
var autoresizeTextarea = (el) => {
  var _a;
  if (!el) return;
  const style = getComputedStyle(el);
  const win = getWindow(el);
  const doc = getDocument(el);
  const resize = () => {
    el.style.height = "auto";
    const borderTopWidth = parseInt(style.borderTopWidth, 10);
    const borderBottomWidth = parseInt(style.borderBottomWidth, 10);
    el.style.height = `${el.scrollHeight + borderTopWidth + borderBottomWidth}px`;
  };
  el.addEventListener("input", resize);
  const elementPrototype = Object.getPrototypeOf(el);
  const descriptor = Object.getOwnPropertyDescriptor(elementPrototype, "value");
  Object.defineProperty(el, "value", {
    ...descriptor,
    set() {
      var _a2;
      (_a2 = descriptor == null ? void 0 : descriptor.set) == null ? void 0 : _a2.apply(this, arguments);
      resize();
    }
  });
  const resizeObserver = new win.ResizeObserver(() => resize());
  resizeObserver.observe(el);
  const attrObserver = new win.MutationObserver(() => resize());
  attrObserver.observe(el, { attributes: true, attributeFilter: ["rows", "placeholder"] });
  (_a = doc.fonts) == null ? void 0 : _a.addEventListener("loadingdone", resize);
  return () => {
    var _a2;
    el.removeEventListener("input", resize);
    (_a2 = doc.fonts) == null ? void 0 : _a2.removeEventListener("loadingdone", resize);
    resizeObserver.disconnect();
    attrObserver.disconnect();
  };
};

// node_modules/.pnpm/@ark-ui+react@4.9.2_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/@ark-ui/react/dist/components/field/field-textarea.js
var import_react19 = __toESM(require_react(), 1);
var FieldTextarea = (0, import_react19.forwardRef)((props, ref) => {
  const { autoresize, ...textareaProps } = props;
  const textareaRef = (0, import_react19.useRef)(null);
  const field = useFieldContext();
  const mergedProps = mergeProps(
    field == null ? void 0 : field.getTextareaProps(),
    { style: { resize: autoresize ? "none" : void 0 } },
    textareaProps
  );
  (0, import_react19.useEffect)(() => {
    if (!autoresize) return;
    return autoresizeTextarea(textareaRef.current);
  }, [autoresize]);
  return (0, import_jsx_runtime9.jsx)(ark.textarea, { ...mergedProps, ref: composeRefs(ref, textareaRef) });
});
FieldTextarea.displayName = "FieldTextarea";

// node_modules/.pnpm/@ark-ui+react@4.9.2_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/@ark-ui/react/dist/components/field/field.js
var field_exports = {};
__export(field_exports, {
  Context: () => FieldContext,
  ErrorText: () => FieldErrorText,
  HelperText: () => FieldHelperText,
  Input: () => FieldInput,
  Label: () => FieldLabel,
  RequiredIndicator: () => FieldRequiredIndicator,
  Root: () => FieldRoot,
  RootProvider: () => FieldRootProvider,
  Select: () => FieldSelect,
  Textarea: () => FieldTextarea
});
export {
  field_exports as Field,
  FieldContext,
  FieldErrorText,
  FieldHelperText,
  FieldInput,
  FieldLabel,
  FieldRequiredIndicator,
  FieldRoot,
  FieldRootProvider,
  FieldSelect,
  FieldTextarea,
  fieldAnatomy,
  useFieldContext
};
//# sourceMappingURL=@ark-ui_react_field.js.map
