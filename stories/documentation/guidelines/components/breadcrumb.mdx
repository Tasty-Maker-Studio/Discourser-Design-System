import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Documentation/Guidelines/99-Breadcrumb" />

# Breadcrumb

**Purpose:** Navigation component that shows users their current location within the application hierarchy and provides links to parent pages.

## When to Use This Component

Use Breadcrumb when you need to **help users understand their location in a multi-level hierarchy and provide quick navigation to parent pages**.

### Decision Tree

| Scenario                                          | Use Breadcrumb? | Alternative          | Reasoning                                                      |
| ------------------------------------------------- | --------------- | -------------------- | -------------------------------------------------------------- |
| Multi-level navigation (3+ levels deep)           | ✅ Yes          | -                    | Shows hierarchy and allows quick navigation to parent pages    |
| E-commerce category navigation                    | ✅ Yes          | -                    | Helps users backtrack through product categories               |
| Documentation with nested sections                | ✅ Yes          | -                    | Shows position in documentation structure                      |
| Multi-step forms or wizards                       | ⚠️ Maybe        | Stepper              | Stepper is better for linear multi-step processes              |
| Main navigation menu                              | ❌ No           | Menu / Nav           | Breadcrumbs are for hierarchy, not primary navigation          |
| Single-level navigation (only 1-2 levels)         | ❌ No           | Back button          | Breadcrumbs add unnecessary complexity for shallow hierarchies |
| Horizontal tabs or page sections                  | ❌ No           | Tabs                 | Tabs are for switching between views, not hierarchy            |

### Component Comparison

```typescript
// ✅ Breadcrumb - Multi-level product categories
<Breadcrumb.Root>
  <Breadcrumb.List>
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/">Home</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/electronics">Electronics</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/electronics/laptops">Laptops</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link aria-current="page">Gaming Laptops</Breadcrumb.Link>
    </Breadcrumb.Item>
  </Breadcrumb.List>
</Breadcrumb.Root>

// ❌ Don't use Breadcrumb for multi-step forms - Use Stepper instead
<Breadcrumb.Root>
  <Breadcrumb.List>
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/checkout/cart">Cart</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/checkout/shipping">Shipping</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link aria-current="page">Payment</Breadcrumb.Link>
    </Breadcrumb.Item>
  </Breadcrumb.List>
</Breadcrumb.Root>

// ✅ Better: Use Stepper for multi-step processes
<Stepper currentStep={2} steps={[
  { label: 'Cart', status: 'complete' },
  { label: 'Shipping', status: 'complete' },
  { label: 'Payment', status: 'current' },
  { label: 'Confirmation', status: 'incomplete' }
]} />

// ❌ Don't use Breadcrumb for shallow navigation
<Breadcrumb.Root>
  <Breadcrumb.List>
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/">Home</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link aria-current="page">About</Breadcrumb.Link>
    </Breadcrumb.Item>
  </Breadcrumb.List>
</Breadcrumb.Root>

// ✅ Better: Use a simple back button or just the nav menu
<button onClick={() => navigate(-1)}>← Back to Home</button>
```

## Import

```typescript
import { Breadcrumb } from '@discourser/design-system';
```

## Component Structure

The Breadcrumb is a **compound component** that follows the composition pattern. All parts work together:

| Component             | Purpose                                 | Required    |
| --------------------- | --------------------------------------- | ----------- |
| `Breadcrumb.Root`     | Container with semantic nav element     | Yes         |
| `Breadcrumb.List`     | Ordered list wrapper for items          | Yes         |
| `Breadcrumb.Item`     | Individual breadcrumb entry             | Yes         |
| `Breadcrumb.Link`     | Clickable link to a page                | Yes         |
| `Breadcrumb.Separator`| Visual separator between items          | Recommended |
| `Breadcrumb.Ellipsis` | Collapsed middle items indicator ("...") | Optional    |

**Important:** Never use breadcrumb parts in isolation. They must be nested within `Breadcrumb.Root`.

## Variants

The Breadcrumb component supports 2 visual variants:

| Variant     | Visual Style                          | Usage        | When to Use                               |
| ----------- | ------------------------------------- | ------------ | ----------------------------------------- |
| `plain`     | Simple text links (default)           | Default      | Most use cases, clean minimal design      |
| `underline` | Links with underline on hover         | Emphasis     | When you want to emphasize link affordance|

### Visual Characteristics

- **plain**: Links change color on hover (`fg.muted` → `fg.default`), current page uses `fg.default`
- **underline**: Links have underline decoration that changes from subtle to default color on hover

## Sizes

| Size | Gap   | Font Size     | Usage                        |
| ---- | ----- | ------------- | ---------------------------- |
| `xs` | 4px   | textStyle: xs | Compact layouts, mobile      |
| `sm` | 4px   | textStyle: sm | Dense information spaces     |
| `md` | 6px   | textStyle: md | Default, most use cases      |
| `lg` | 8px   | textStyle: lg | Prominent navigation, headers|

## Props

### Root Props

| Prop      | Type                       | Default   | Description                      |
| --------- | -------------------------- | --------- | -------------------------------- |
| `variant` | `'plain' \| 'underline'`   | `'plain'` | Visual style variant             |
| `size`    | `'xs' \| 'sm' \| 'md' \| 'lg'` | `'md'` | Breadcrumb size                  |

**Note:** Breadcrumb.Root automatically sets `aria-label="breadcrumb"` for accessibility.

### Link Props

| Prop            | Type        | Default  | Description                                       |
| --------------- | ----------- | -------- | ------------------------------------------------- |
| `href`          | `string`    | -        | Link destination URL                              |
| `aria-current`  | `'page'`    | -        | Mark this as the current page (last item only)    |
| `children`      | `ReactNode` | Required | Link text or content                              |

### Separator Props

| Prop       | Type        | Default             | Description                       |
| ---------- | ----------- | ------------------- | --------------------------------- |
| `children` | `ReactNode` | `<ChevronRightIcon />` | Custom separator (e.g., "/", ">") |

### Ellipsis Props

| Prop       | Type        | Default | Description                                |
| ---------- | ----------- | ------- | ------------------------------------------ |
| `children` | `ReactNode` | `"..."` | Custom ellipsis content                    |

## Examples

### Basic Usage

```typescript
<Breadcrumb.Root>
  <Breadcrumb.List>
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/">Home</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/docs">Docs</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/docs/components" aria-current="page">
        Components
      </Breadcrumb.Link>
    </Breadcrumb.Item>
  </Breadcrumb.List>
</Breadcrumb.Root>
```

### Custom Separator

```typescript
// Use "/" instead of default chevron
<Breadcrumb.Root>
  <Breadcrumb.List>
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/">Home</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator>/</Breadcrumb.Separator>
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/products">Products</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator>/</Breadcrumb.Separator>
    <Breadcrumb.Item>
      <Breadcrumb.Link aria-current="page">Shoes</Breadcrumb.Link>
    </Breadcrumb.Item>
  </Breadcrumb.List>
</Breadcrumb.Root>
```

### Underline Variant

```typescript
<Breadcrumb.Root variant="underline">
  <Breadcrumb.List>
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/">Home</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/blog">Blog</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/blog/2024" aria-current="page">
        2024
      </Breadcrumb.Link>
    </Breadcrumb.Item>
  </Breadcrumb.List>
</Breadcrumb.Root>
```

### With Ellipsis (Collapsed Middle)

```typescript
// For very long paths, collapse middle items
<Breadcrumb.Root>
  <Breadcrumb.List>
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/">Home</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Ellipsis />
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/category">Category</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link aria-current="page">Current Page</Breadcrumb.Link>
    </Breadcrumb.Item>
  </Breadcrumb.List>
</Breadcrumb.Root>
```

### With Icons

```typescript
const HomeIcon = () => (
  <svg width="16" height="16" viewBox="0 0 24 24">
    <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
  </svg>
);

<Breadcrumb.Root>
  <Breadcrumb.List>
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/" style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
        <HomeIcon />
        Home
      </Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/settings">Settings</Breadcrumb.Link>
    </Breadcrumb.Item>
  </Breadcrumb.List>
</Breadcrumb.Root>
```

### Different Sizes

```typescript
// Extra Small
<Breadcrumb.Root size="xs">
  <Breadcrumb.List>
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/">Home</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link aria-current="page">Current</Breadcrumb.Link>
    </Breadcrumb.Item>
  </Breadcrumb.List>
</Breadcrumb.Root>

// Large
<Breadcrumb.Root size="lg">
  <Breadcrumb.List>
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/">Home</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link aria-current="page">Current</Breadcrumb.Link>
    </Breadcrumb.Item>
  </Breadcrumb.List>
</Breadcrumb.Root>
```

## Common Patterns

### E-commerce Product Navigation

```typescript
<Breadcrumb.Root>
  <Breadcrumb.List>
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/">Home</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/products">Products</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/products/electronics">Electronics</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/products/electronics/laptops">Laptops</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link aria-current="page">Gaming Laptops</Breadcrumb.Link>
    </Breadcrumb.Item>
  </Breadcrumb.List>
</Breadcrumb.Root>
```

### Documentation Navigation

```typescript
<Breadcrumb.Root variant="underline">
  <Breadcrumb.List>
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/docs">Documentation</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/docs/components">Components</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/docs/components/navigation">Navigation</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link aria-current="page">Breadcrumb</Breadcrumb.Link>
    </Breadcrumb.Item>
  </Breadcrumb.List>
</Breadcrumb.Root>
```

### File System Navigation

```typescript
<Breadcrumb.Root size="sm">
  <Breadcrumb.List>
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/files">Files</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator>/</Breadcrumb.Separator>
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/files/projects">projects</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator>/</Breadcrumb.Separator>
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/files/projects/website">website</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator>/</Breadcrumb.Separator>
    <Breadcrumb.Item>
      <Breadcrumb.Link aria-current="page">components</Breadcrumb.Link>
    </Breadcrumb.Item>
  </Breadcrumb.List>
</Breadcrumb.Root>
```

### Dynamic Breadcrumbs

```typescript
// Generate breadcrumbs from URL path
const pathSegments = [
  { label: 'Home', href: '/' },
  { label: 'Products', href: '/products' },
  { label: 'Electronics', href: '/products/electronics' },
  { label: 'Laptops', href: '/products/electronics/laptops' },
];

<Breadcrumb.Root>
  <Breadcrumb.List>
    {pathSegments.map((segment, index) => (
      <React.Fragment key={segment.href}>
        <Breadcrumb.Item>
          <Breadcrumb.Link
            href={segment.href}
            aria-current={index === pathSegments.length - 1 ? 'page' : undefined}
          >
            {segment.label}
          </Breadcrumb.Link>
        </Breadcrumb.Item>
        {index < pathSegments.length - 1 && <Breadcrumb.Separator />}
      </React.Fragment>
    ))}
  </Breadcrumb.List>
</Breadcrumb.Root>
```

## DO NOT

```typescript
// ❌ Don't use breadcrumbs without Root
<Breadcrumb.List>
  <Breadcrumb.Item>Won't work</Breadcrumb.Item>
</Breadcrumb.List>

// ❌ Don't forget separators between items
<Breadcrumb.Root>
  <Breadcrumb.List>
    <Breadcrumb.Item><Breadcrumb.Link href="/">Home</Breadcrumb.Link></Breadcrumb.Item>
    <Breadcrumb.Item><Breadcrumb.Link href="/docs">Docs</Breadcrumb.Link></Breadcrumb.Item>
    {/* Missing separators - items will run together */}
  </Breadcrumb.List>
</Breadcrumb.Root>

// ❌ Don't mark multiple items as current page
<Breadcrumb.Root>
  <Breadcrumb.List>
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/home" aria-current="page">Home</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/docs" aria-current="page">Docs</Breadcrumb.Link>
    </Breadcrumb.Item>
  </Breadcrumb.List>
</Breadcrumb.Root>

// ❌ Don't use breadcrumbs for flat navigation
<Breadcrumb.Root>
  <Breadcrumb.List>
    <Breadcrumb.Item><Breadcrumb.Link href="/about">About</Breadcrumb.Link></Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item><Breadcrumb.Link href="/contact">Contact</Breadcrumb.Link></Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item><Breadcrumb.Link href="/pricing">Pricing</Breadcrumb.Link></Breadcrumb.Item>
  </Breadcrumb.List>
</Breadcrumb.Root>
// Use a horizontal menu instead

// ❌ Don't make the current page clickable
<Breadcrumb.Item>
  <Breadcrumb.Link href="/current" aria-current="page">
    Current Page  {/* Should not be a link */}
  </Breadcrumb.Link>
</Breadcrumb.Item>

// ✅ Correct: Last item can be a link OR plain text
<Breadcrumb.Item>
  <Breadcrumb.Link aria-current="page">Current Page</Breadcrumb.Link>
</Breadcrumb.Item>

// ✅ Use breadcrumbs properly
<Breadcrumb.Root>
  <Breadcrumb.List>
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/">Home</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/docs">Docs</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    <Breadcrumb.Item>
      <Breadcrumb.Link aria-current="page">Current</Breadcrumb.Link>
    </Breadcrumb.Item>
  </Breadcrumb.List>
</Breadcrumb.Root>
```

## Accessibility

The Breadcrumb component follows WCAG 2.1 Level AA standards and implements WAI-ARIA Breadcrumb Pattern:

- **Semantic HTML**:
  - Uses `<nav>` element with `aria-label="breadcrumb"`
  - Uses ordered list (`<ol>`) for breadcrumb trail
  - Each item is a list item (`<li>`)

- **ARIA Attributes**:
  - `aria-current="page"` on the last item to indicate current page
  - `aria-hidden="true"` on separator elements
  - `role="presentation"` on ellipsis elements

- **Keyboard Navigation**:
  - `Tab` / `Shift+Tab`: Navigate between breadcrumb links
  - Links follow standard anchor keyboard behavior

- **Screen Readers**:
  - Announce "breadcrumb navigation" when entering
  - Read each link in sequence
  - Announce current page with "current page" suffix

### Accessibility Best Practices

```typescript
// ✅ Always mark the last item as current page
<Breadcrumb.Item>
  <Breadcrumb.Link aria-current="page">Current Page</Breadcrumb.Link>
</Breadcrumb.Item>

// ✅ Use descriptive link text
<Breadcrumb.Link href="/products/electronics">Electronics</Breadcrumb.Link>
// Not: <Breadcrumb.Link href="/products/1">Category 1</Breadcrumb.Link>

// ✅ Ensure sufficient color contrast
// The component uses semantic tokens (fg.muted, fg.default) that meet WCAG AA standards

// ✅ Don't rely on color alone to indicate current page
// Use aria-current="page" which is announced by screen readers
```

## Variant Selection Guide

| Scenario                | Recommended Variant | Reasoning                                    |
| ----------------------- | ------------------- | -------------------------------------------- |
| Documentation sites     | `underline`         | Emphasizes link affordance in text-heavy UIs |
| E-commerce sites        | `plain`             | Clean, minimal design doesn't distract       |
| Admin dashboards        | `plain`             | Professional, understated appearance         |
| File system navigation  | `plain`             | Mimics traditional file path displays        |
| Blog/content sites      | `underline`         | Makes links more discoverable                |

## State Behaviors

| State        | Visual Change                             | Behavior                                  |
| ------------ | ----------------------------------------- | ----------------------------------------- |
| **Default**  | Links in muted color (`fg.muted`)         | Standard appearance                       |
| **Hover**    | Link color changes to `fg.default`        | Visual feedback on interactive element    |
| **Focus**    | Focus ring on link                        | Keyboard navigation indicator             |
| **Current**  | Link in default color (`fg.default`)      | Last item marked with `aria-current`      |

## Responsive Considerations

```typescript
// Mobile: Breadcrumbs can become very long on small screens
// Consider using ellipsis to collapse middle items on mobile
const isMobile = useMediaQuery('(max-width: 768px)');

<Breadcrumb.Root size={isMobile ? 'xs' : 'md'}>
  <Breadcrumb.List>
    <Breadcrumb.Item>
      <Breadcrumb.Link href="/">Home</Breadcrumb.Link>
    </Breadcrumb.Item>
    <Breadcrumb.Separator />
    {!isMobile && (
      <>
        <Breadcrumb.Item>
          <Breadcrumb.Link href="/products">Products</Breadcrumb.Link>
        </Breadcrumb.Item>
        <Breadcrumb.Separator />
      </>
    )}
    {isMobile && (
      <>
        <Breadcrumb.Ellipsis />
        <Breadcrumb.Separator />
      </>
    )}
    <Breadcrumb.Item>
      <Breadcrumb.Link aria-current="page">Current</Breadcrumb.Link>
    </Breadcrumb.Item>
  </Breadcrumb.List>
</Breadcrumb.Root>

// Truncate very long breadcrumb text
<Breadcrumb.Link
  href="/products"
  style={{ maxWidth: '150px', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}
>
  Very Long Product Category Name That Gets Truncated
</Breadcrumb.Link>
```

## Testing

When testing Breadcrumb components:

```typescript
import { render, screen } from '@testing-library/react';
import userEvent from '@testing-library/user-event';

test('breadcrumb renders all items', () => {
  render(
    <Breadcrumb.Root>
      <Breadcrumb.List>
        <Breadcrumb.Item>
          <Breadcrumb.Link href="/">Home</Breadcrumb.Link>
        </Breadcrumb.Item>
        <Breadcrumb.Separator />
        <Breadcrumb.Item>
          <Breadcrumb.Link href="/docs">Docs</Breadcrumb.Link>
        </Breadcrumb.Item>
        <Breadcrumb.Separator />
        <Breadcrumb.Item>
          <Breadcrumb.Link aria-current="page">Components</Breadcrumb.Link>
        </Breadcrumb.Item>
      </Breadcrumb.List>
    </Breadcrumb.Root>
  );

  expect(screen.getByText('Home')).toHaveAttribute('href', '/');
  expect(screen.getByText('Docs')).toHaveAttribute('href', '/docs');
  expect(screen.getByText('Components')).toHaveAttribute('aria-current', 'page');
});

test('breadcrumb has correct navigation semantics', () => {
  render(
    <Breadcrumb.Root>
      <Breadcrumb.List>
        <Breadcrumb.Item>
          <Breadcrumb.Link href="/">Home</Breadcrumb.Link>
        </Breadcrumb.Item>
      </Breadcrumb.List>
    </Breadcrumb.Root>
  );

  const nav = screen.getByRole('navigation');
  expect(nav).toHaveAttribute('aria-label', 'breadcrumb');
});

test('current page is marked correctly', () => {
  render(
    <Breadcrumb.Root>
      <Breadcrumb.List>
        <Breadcrumb.Item>
          <Breadcrumb.Link href="/">Home</Breadcrumb.Link>
        </Breadcrumb.Item>
        <Breadcrumb.Separator />
        <Breadcrumb.Item>
          <Breadcrumb.Link aria-current="page">Current</Breadcrumb.Link>
        </Breadcrumb.Item>
      </Breadcrumb.List>
    </Breadcrumb.Root>
  );

  const currentLink = screen.getByText('Current');
  expect(currentLink).toHaveAttribute('aria-current', 'page');
});

test('separators are hidden from screen readers', () => {
  const { container } = render(
    <Breadcrumb.Root>
      <Breadcrumb.List>
        <Breadcrumb.Item>
          <Breadcrumb.Link href="/">Home</Breadcrumb.Link>
        </Breadcrumb.Item>
        <Breadcrumb.Separator />
        <Breadcrumb.Item>
          <Breadcrumb.Link href="/docs">Docs</Breadcrumb.Link>
        </Breadcrumb.Item>
      </Breadcrumb.List>
    </Breadcrumb.Root>
  );

  const separators = container.querySelectorAll('[aria-hidden="true"]');
  expect(separators.length).toBeGreaterThan(0);
});
```

## Related Components

- **Menu**: For navigation menus (not hierarchical navigation)
- **Tabs**: For switching between different views
- **Stepper**: For linear multi-step processes (forms, wizards)
- **Pagination**: For navigating through paginated content

